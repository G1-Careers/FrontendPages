<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>G1Careers</title>
    <!-- Fav Icon -->
    <link rel="icon" href="assets/images/logos.png" type="image/x-icon">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <!-- Stylesheets -->
    <link href="assets/css/font-awesome-all.css" rel="stylesheet">
    <link href="assets/css/flaticon.css" rel="stylesheet">
    <link href="assets/css/owl.css" rel="stylesheet">
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/jquery.fancybox.min.css" rel="stylesheet">
    <link href="assets/css/animate.css" rel="stylesheet">
    <link href="assets/css/nice-select.css" rel="stylesheet">
    <link href="assets/css/odometer.css" rel="stylesheet">
    <link href="assets/css/elpath.css" rel="stylesheet">
    <link href="assets/css/color.css" id="jssDefault" rel="stylesheet">
    <link href="assets/css/rtl.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/module-css/header.css" rel="stylesheet">
    <link href="assets/css/module-css/page-title.css" rel="stylesheet">
    <link href="assets/css/module-css/job.css" rel="stylesheet">
    <link href="assets/css/module-css/subscribe.css" rel="stylesheet">
    <link href="assets/css/module-css/footer.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">
</head>
<body>
    <div class="boxed_wrapper ltr">
        <!-- preloader -->
        <div class="loader-wrap">
            <div class="preloader">
                <div class="preloader-close"><i class="icon-27"></i></div>
                <div id="handle-preloader" class="handle-preloader">
                    <div class="animation-preloader">
                        <div class="spinner"></div>
                        <div class="txt-loading">
                            <span data-text-preloader="G" class="letters-loading">G</span>
                            <span data-text-preloader="1" class="letters-loading">1</span>
                            <span data-text-preloader="C" class="letters-loading">C</span>
                            <span data-text-preloader="a" class="letters-loading">a</span>
                            <span data-text-preloader="r" class="letters-loading">r</span>
                            <span data-text-preloader="e" class="letters-loading">e</span>
                            <span data-text-preloader="e" class="letters-loading">e</span>
                            <span data-text-preloader="r" class="letters-loading">r</span>
                            <span data-text-preloader="s" class="letters-loading">s</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- preloader end -->

        <!-- main header -->
        <header class="main-header header-style-three">
            <div class="header-top">
                <div class="auto-container">
                    <div class="top-inner">
                        <ul class="info">
                            <li><img src="assets/images/icons/icon-6.png" alt="">Call: <a href="tel:8123700851">+91 8123700851</a></li>
                            <li><img src="assets/images/icons/icon-7.png" alt="">Mail: <a href="mailto:abhishek@g1careers.com">abhishek@g1careers.com</a></li>
                        </ul>
                        <div class="right-column">
                            <ul class="social-links">
                                <li><span>Share:</span></li>
                                <li><a href="index-3.html"><i class="icon-22"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-lower">
                <div class="auto-container">
                    <div class="outer-box">
                        <figure class="logo-box" style="display: flex; align-items: center;">
                            <a href="index-6.html"><img src="assets/images/logos.png" alt="G1Careers Logo" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid #333;"></a>
                            <span style="margin-left: 10px; font-size: 18px; font-weight: bold; color: #333;">G1Careers</span>
                        </figure>
                        <div class="menu-area">
                            <div class="mobile-nav-toggler">
                                <i class="icon-bar"></i><i class="icon-bar"></i><i class="icon-bar"></i>
                            </div>
                            <nav class="main-menu navbar-expand-md navbar-light clearfix">
                                <div class="collapse navbar-collapse show clearfix" id="navbarSupportedContent">
                                    <ul class="navigation clearfix">
                                        <li><a href="index-6.html">Home</a></li>
                                        <li><a href="about.html">About</a></li>
                                        <li class="dropdown"><a href="index-6.html">Open Positions</a>
                                            <ul>
                                                <li><a href="job-3.html">Job Openings</a></li>
                                                <li><a href="job-4.html">Job Apply</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="contact.html">Contact</a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        <div class="menu-right-content">
                            <div class="link-box mr_20"><a href="login.html">Log In</a></div>
                            <div class="btn-box"><a href="https://app.g1careers.com/" target="_blank" class="theme-btn btn-one">Sign up</a></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sticky-header">
                <div class="outer-container">
                    <div class="outer-box">
                        <figure class="logo-box" style="display: flex; align-items: center;">
                            <a href="index-6.html"><img src="assets/images/logos.png" alt="G1Careers Logo" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid #333;"></a>
                            <span style="margin-left: 10px; font-size: 18px; font-weight: bold; color: #333;">G1Careers</span>
                        </figure>
                        <div class="menu-area">
                            <nav class="main-menu clearfix"></nav>
                        </div>
                        <div class="menu-right-content">
                            <div class="link-box mr_20"><a href="https://app.g1careers.com/" target="_blank">Log In</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- main-header end -->

        <!-- Mobile Menu -->
        <div class="mobile-menu">
            <div class="menu-backdrop"></div>
            <div class="close-btn"><i class="fas fa-times"></i></div>
            <nav class="menu-box">
                <div class="nav-logo"><a href="index-2.html"><img src="assets/images/logo-2.png" alt="" title=""></a></div>
                <div class="menu-outer"></div>
                <div class="contact-info">
                    <h4>Contact Info</h4>
                    <ul>
                        <li>3rd Floor, Ratnam Chambers, Phase - II, H.No.1-62/172, Plot No.172, Kavuri Hills, Madhapur, Telangana 500081</li>
                        <li><a href="tel:+918123700851">+91 8123700851</a></li>
                        <li><a href="mailto:abhishek@g1careers.com">abhishek@g1careers.com</a></li>
                    </ul>
                </div>
            </nav>
        </div>

        <section class="job-form-section dark-section pt_110 pb_90">
            <div class="auto-container">
                <form id="jobApplicationForm" method="post">
                    <div class="row clearfix">
                        <!-- Basic Information Section -->
                        <div class="col-lg-6 col-md-12 col-sm-12 form-column">
                            <div class="form-inner">
                                <div class="title-box">
                                    <div class="icon-box"><i class="icon-39"></i></div>
                                    <h3>Basic Information</h3>
                                    <p>Please fill out your contact person details here.</p>
                                </div>
                                <div class="row clearfix">
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="full_name" placeholder="Full Name" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="email" name="email" placeholder="Email ID" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="mobile" placeholder="Mobile Number" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="whatsapp" placeholder="Whatsapp Number (if Different)">
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                                        <input type="text" name="referred_by" placeholder="Referred Here by">
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                                        <input type="text" name="linkedin_url" placeholder="Linkedin URL">
                                    </div>
                                </div>
                            </div>
                        </div>
        
                        <!-- Qualification Section -->
                        <div class="col-lg-6 col-md-12 col-sm-12 form-column">
                            <div class="form-inner">
                                <div class="title-box">
                                    <div class="icon-box"><i class="icon-40"></i></div>
                                    <h3>Qualification</h3>
                                    <p>Please provide your professional background.</p>
                                </div>
                                <div class="row clearfix">
                                    <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                                        <input type="text" name="highest_education" placeholder="Highest Education Qualification & Year of Graduation" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="last_designation" placeholder="Last Designation or Role" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="last_company" placeholder="Last Company Worked For (None if no experience)" required>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                                        <input type="text" name="tech_stacks" placeholder="Tech Stacks Worked With (up to 10, comma separated)" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="experience" placeholder="Total Years of Experience" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <div class="upload-box">
                                            <div class="icon-box"><img src="assets/images/icons/icon-24.png" alt=""></div>
                                            <input name="resume" id="resume_input" type="file" accept=".pdf,.doc,.docx" required>
                                            <button type="button">Upload Latest Resume</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
        
                        <!-- Job Preferences and Additional Details Section -->
                        <div class="col-lg-12 col-md-12 col-sm-12 form-column">
                            <div class="form-inner">
                                <div class="title-box">
                                    <div class="icon-box"><i class="icon-41"></i></div>
                                    <h3>Job Preferences & Additional Details</h3>
                                    <p>Tell us about your preferences and compensation details.</p>
                                </div>
                                <div class="row clearfix">
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <div class="select-box">
                                            <select class="wide" name="job_id" id="jobIdDropdown" required>
                                                <option value="">Select Job ID</option>
                                                <!-- Options will be populated dynamically -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <div class="select-box">
                                            <select class="wide" name="engagement_preference">
                                                <option data-display="How do you like to Engage with us">How do you like to Engage with us</option>
                                                <option value="Full-Time">Full-Time</option>
                                                <option value="Part-Time">Part-Time</option>
                                                <option value="Freelance">Freelance</option>
                                                <option value="Internship">Internship</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="current_ctc" placeholder="Current CTC" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="expected_ctc" placeholder="Expected CTC" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="number" name="notice_period" placeholder="Notice Period (in Days, 0 if Immediate)" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="current_location" placeholder="Current Location" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="preferred_location" placeholder="Preferred Location" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                        <input type="text" name="work_mode" placeholder="City or 'Remote Only' if applicable" required>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 form-group">
                                        <textarea name="message" placeholder="Additional Information..."></textarea>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12 form-group message-btn centred">
                                        <button type="submit" class="theme-btn btn-one">Apply For Job</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>

        <!-- main-footer -->
        <footer class="main-footer light-footer">
            <div class="widget-section p_relative pt_80 pb_100">
                <div class="auto-container">
                    <div class="row clearfix">
                        <div class="col-lg-4 col-md-6 col-sm-12 footer-column">
                            <div class="footer-widget logo-widget mr_30">
                                <figure class="logo-box" style="display: flex; align-items: center;">
                                    <a href="index-6.html"><img src="assets/images/logos.png" alt="G1Careers Logo" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid #333;"></a>
                                    <span style="margin-left: 10px; font-size: 18px; font-weight: bold; color: #ffff;">G1Careers</span>
                                </figure>
                                <p>Since 2024, g1careers helps you to build your team stronger and better</p>
                                <div class="download-btn">
                                    <a href="about.html" class="play-store">
                                        <img src="assets/images/icons/icon-5.png" alt="">
                                        <span>Get it on</span> Google Play
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-12 footer-column">
                            <div class="footer-widget links-widget">
                                <div class="widget-title"><h4>Company</h4></div>
                                <div class="widget-content">
                                    <ul class="links-list clearfix"><li><a href="about.html">About Us</a></li></ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-12 footer-column">
                            <div class="footer-widget links-widget">
                                <div class="widget-title"><h4>Help & Support</h4></div>
                                <div class="widget-content">
                                    <ul class="links-list clearfix">
                                        <li><a href="contact.html">Contact Us</a></li>
                                        <li><a href="faq.html">General FAQ</a></li>
                                        <li><a href="index-6.html">Terms & Conditions</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="auto-container">
                    <div class="bottom-inner">
                        <div class="copyright"><p>Copyright © 2025 <a href="index-6.html">G1Careers</a> All rights reserved.</p></div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- main-footer end -->

        <!--Scroll to top-->
        <div class="scroll-to-top">
            <svg class="scroll-top-inner" viewBox="-1 -1 102 102">
                <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
            </svg>
        </div>
    </div>

    <!-- jQuery plugins -->
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/owl.js"></script>
    <script src="assets/js/wow.js"></script>
    <script src="assets/js/validation.js"></script>
    <script src="assets/js/jquery.fancybox.js"></script>
    <script src="assets/js/appear.js"></script>
    <script src="assets/js/isotope.js"></script>
    <script src="assets/js/parallax-scroll.js"></script>
    <script src="assets/js/jquery.nice-select.min.js"></script>
    <script src="assets/js/scrolltop.min.js"></script>
    <script src="assets/js/gsap.js"></script>
    <script src="assets/js/ScrollTrigger.js"></script>
    <script src="assets/js/SplitText.js"></script>
    <script src="assets/js/language.js"></script>
    <script src="assets/js/jquery-ui.js"></script>
    <script src="assets/js/lenis.min.js"></script>
    <script src="assets/js/odometer.js"></script>
    <script src="assets/js/jquery.lettering.min.js"></script>
    <script src="assets/js/jquery.circleType.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="assets/js/script.js"></script>

    <script>
    // Google Sheet configuration
    // Google Sheet configuration
const sheetID = "1zGbFmscDeEDXBqyDCLk66dgJqlSgTYixjwB83TS9Waw";
const apiKey = "AIzaSyAyGVBws0phyRV4sqNLCVDHNILaM17cHso";
const sheetName = "Active Requirements: Published to Vendors";
const range = `${sheetName}!A2:H1000`;

// Array to store job titles
let jobTitlesArray = [];

// Fetch Job IDs from Google Sheet on page load
document.addEventListener("DOMContentLoaded", function () {
    fetchSheetData();
    
    // Add search functionality to the nice-select dropdown
    addSearchToNiceSelect();
});

async function fetchSheetData() {
    const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetID}/values/${encodeURIComponent(range)}?key=${apiKey}`;
    const jobIdDropdown = document.getElementById("jobIdDropdown");

    try {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
        }
        const data = await response.json();
        console.log("API Response:", data);

        if (!data.values || data.values.length === 0) {
            jobIdDropdown.innerHTML += '<option value="">No jobs found</option>';
            return;
        }

        const jobs = data.values;
        storeJobTitles(jobs); // Store titles in array
        populateJobIdDropdown(); // Populate dropdown from array
    } catch (error) {
        console.error("Error fetching sheet data:", error);
        jobIdDropdown.innerHTML += '<option value="">Error loading jobs</option>';
    }
}

// Function to store job titles in an array
function storeJobTitles(jobs) {
    jobTitlesArray = []; // Reset array
    for (let i = 1; i < jobs.length; i++) { // Start from index 0 to include all rows
        const job = jobs[i];
        if (job && job.length >= 2) {
            const jobIdTitle = job[1]; // Job ID and title in second column
            if (jobIdTitle) {
                jobTitlesArray.push(jobIdTitle.trim()); // Store full job title in array
            }
        }
    }
    console.log("Job Titles Array:", jobTitlesArray);
}

// Function to populate dropdown from jobTitlesArray
function populateJobIdDropdown() {
    const jobIdDropdown = document.getElementById("jobIdDropdown");
    jobIdDropdown.innerHTML = '<option value="">Select Job ID</option>';

    jobTitlesArray.forEach((jobTitle) => {
        if (jobTitle) {
            const option = document.createElement("option");
            
            // Extract job ID if present (assume format is "ID: Title")
            const jobIdMatch = jobTitle.match(/^(\d+)\s*:/);
            if (jobIdMatch) {
                option.value = jobIdMatch[1]; // Use the ID as the value
            } else {
                option.value = jobTitle; // Use full title as value if no ID format
            }
            
            option.textContent = jobTitle; // Set full title as display text
            jobIdDropdown.appendChild(option);
        }
    });
    
    // Initialize Nice Select plugin with custom options
    if ($.fn.niceSelect) {
        $(jobIdDropdown).niceSelect('destroy');
        $(jobIdDropdown).niceSelect();
        
        // Apply the search functionality after Nice Select is initialized
        addSearchToNiceSelect();
    }
}

// Function to add search functionality to Nice Select dropdown
function addSearchToNiceSelect() {
    // Add search box to all nice-select dropdowns
    setTimeout(() => {
        const niceSelectList = document.querySelector('.nice-select[name="job_id"] .list');
        
        if (niceSelectList) {
            // Create search input if it doesn't exist
            if (!niceSelectList.querySelector('.nice-select-search')) {
                const searchBox = document.createElement('div');
                searchBox.className = 'nice-select-search-box';
                searchBox.style.padding = '10px';
                searchBox.style.position = 'sticky';
                searchBox.style.top = '0';
                searchBox.style.background = '#fff';
                searchBox.style.zIndex = '1';
                
                const searchInput = document.createElement('input');
                searchInput.type = 'text';
                searchInput.className = 'nice-select-search';
                searchInput.placeholder = 'Search jobs...';
                searchInput.style.width = '100%';
                searchInput.style.padding = '8px';
                searchInput.style.border = '1px solid #e8e8e8';
                searchInput.style.borderRadius = '4px';
                
                searchBox.appendChild(searchInput);
                niceSelectList.insertBefore(searchBox, niceSelectList.firstChild);
                
                // Fix the dropdown height and make it scrollable
                niceSelectList.style.maxHeight = '250px';
                niceSelectList.style.overflowY = 'auto';
                niceSelectList.style.overflowX = 'hidden';
                
                // Add event listener for search
                searchInput.addEventListener('keyup', function(e) {
                    e.stopPropagation();
                    const searchValue = e.target.value.toLowerCase();
                    const options = niceSelectList.querySelectorAll('li');
                    
                    options.forEach(option => {
                        if (option.textContent.toLowerCase().includes(searchValue)) {
                            option.style.display = 'block';
                        } else {
                            option.style.display = 'none';
                        }
                    });
                });
                
                // Prevent dropdown from closing when clicking in search
                searchInput.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }
        }
    }, 500); // Small delay to ensure Nice Select has initialized
}

// Stop propagation for dropdown list to prevent page scroll when scrolling the dropdown
$(document).on('mousewheel DOMMouseScroll', '.nice-select .list', function(e) {
    e.stopPropagation();
});

// Form submission handler (unchanged)
document.getElementById('jobApplicationForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const formData = new FormData(this);
    const data = {
        "Timestamp": new Date().toLocaleString(),
        "Job ID": formData.get('job_id'),
        "How do you like to Engage with us": formData.get('engagement_preference'),
        "Full Name": formData.get('full_name'),
        "Email ID": formData.get('email'),
        "Mobile Number": formData.get('mobile'),
        "Whatsapp Number (if Different)": formData.get('whatsapp'),
        "Referred Here by": formData.get('referred_by'),
        "Last Designation or Role": formData.get('last_designation'),
        "Highest Education Qualification & Year of Graduation": formData.get('highest_education'),
        "Last Company Worked For": formData.get('last_company'),
        "Tech Stacks Worked With": formData.get('tech_stacks'),
        "Total Years of Experience": formData.get('experience'),
        "Current CTC": formData.get('current_ctc'),
        "Expected CTC": formData.get('expected_ctc'),
        "Notice Period (in Days)": formData.get('notice_period'),
        "Current Location": formData.get('current_location'),
        "Preferred Location": formData.get('preferred_location'),
        "Work Mode": formData.get('work_mode'),
        "Additional Information": formData.get('message'),
        "Linkedin URL": formData.get('linkedin_url')
    };

    const excelData = [Object.keys(data), Object.values(data)];
    const ws = XLSX.utils.aoa_to_sheet(excelData);
    const wb = XLSX.utils.book_new();
    XLSX.utils.book_append_sheet(wb, ws, "Job Application");
    XLSX.writeFile(wb, `Job_Application_${data["Full Name"]}_${new Date().getTime()}.xlsx`);
    alert("Application submitted and saved as an Excel file!");
});

    </script>
</body>
</html>